@startuml cases
left to right direction

title User Cases Diagram - Hermes Deployment Services

actor "Unauthenticated" as Unauth
actor "User" as User

rectangle "Auth" {
    usecase "Login" as Login
    usecase "Sign Up" as SignUp
}

rectangle "Hosting" {

    rectangle "Servers" {
        usecase "Ver listado de Servers" as ListServers
        usecase "Registrar Server" as AddServer
        usecase "Ver Detalle de Server" as ViewServer
        usecase "Editar Server" as EditServer
        usecase "Eliminar Server" as DeleteServer

        usecase "Consultar Estado (ping/SSH)" as CheckServerStatus
        usecase "Obtener comando de configuraci칩n SSH" as ViewSetupCmd
        usecase "Ejecutar Setup Reverse Proxy" as SetupServer
        usecase "Acceder a la Terminal SSH Web" as AccessServer
    }

    rectangle "Apps" {
        usecase "Ver listado de Apps" as ListApps
        usecase "Crear App" as AddApp
        usecase "Editar App" as EditApp
        usecase "Eliminar App" as DeleteApp

        usecase "Asignar Repo y Branch" as AssignRepoBranch
        usecase "Asignar Server de despliegue" as AssignServer
        usecase "Gestionar Variables de Entorno (.env)" as ManageEnvVars

        usecase "Desplegar App (futuro)" as DeployApp
    }

    rectangle "Repositorios" {
        usecase "Ver Repositorios" as ListRepos
        usecase "Agregar Repositorio" as AddRepo
        usecase "Editar Repositorio" as EditRepo
        usecase "Eliminar Repositorio" as DeleteRepo
    }

    rectangle "Im치genes" {
        usecase "Ver Im치genes" as ListImages
        usecase "Agregar Imagen" as AddImage
        usecase "Editar Imagen" as EditImage
        usecase "Eliminar Imagen" as DeleteImage
        usecase "Construir Imagen desde Repo (futuro)" as BuildImage
    }
}

' ------------ Relaciones Auth ------------
Unauth --> Login
Unauth --> SignUp

' ------------ Servers ------------
User --> ListServers
User --> AddServer
User --> ViewServer

AddServer --> ViewSetupCmd

ViewServer --> EditServer
ViewServer --> DeleteServer
ViewServer --> CheckServerStatus
ViewServer --> SetupServer
ViewServer --> AccessServer

' ------------ Apps ------------
User --> ListApps
User --> AddApp
User --> ViewServer  

AddApp --> AssignServer
AddApp --> AssignRepoBranch

User --> EditApp
EditApp --> AssignServer
EditApp --> AssignRepoBranch
EditApp --> ManageEnvVars

User --> DeleteApp
User --> ListApps
User --> DeployApp

' ------------ Repos ------------
User --> ListRepos
User --> AddRepo
User --> EditRepo
User --> DeleteRepo

' ------------ Im치genes ------------
User --> ListImages
User --> AddImage
User --> EditImage
User --> DeleteImage
User --> BuildImage

@enduml
